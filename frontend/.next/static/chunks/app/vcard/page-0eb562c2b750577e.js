(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{836:(e,r,t)=>{Promise.resolve().then(t.bind(t,1227))},1227:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var o=t(5155),n=t(2115),l=t(2380),a=t(8451);function s(e){let{label:r,...t}=e;return(0,o.jsxs)("label",{className:"block mb-4",children:[(0,o.jsx)("span",{className:"block mb-1 font-medium text-zinc-700 dark:text-zinc-200",children:r}),(0,o.jsx)("input",{className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-blue-500",...t})]})}function c(e){let{onSubmit:r,loading:t,qrResult:c}=e,[i,d]=n.useState(""),[u,p]=n.useState(""),[b,g]=n.useState(""),[x,m]=n.useState({dotsOptions:{color:"#000000"},backgroundOptions:{color:"#ffffff"},cornersSquareOptions:{color:"#000000"},cornersDotOptions:{color:"#000000"}});return(0,o.jsxs)("form",{className:"space-y-2",onSubmit:e=>{e.preventDefault(),r({name:i,email:u,phone:b,styling:x})},children:[(0,o.jsx)(s,{label:"Name",value:i,onChange:e=>d(e.target.value),required:!0}),(0,o.jsx)(s,{label:"Email",value:u,onChange:e=>p(e.target.value),required:!0,type:"email"}),(0,o.jsx)(s,{label:"Phone",value:b,onChange:e=>g(e.target.value),required:!0,type:"tel"}),(0,o.jsx)(l.B,{styling:x,setStyling:m}),(0,o.jsx)(a.I,{loading:t,qrResult:c})]})}var i=t(8217);function d(){let{qrResult:e,loading:r,handleSubmit:t}=(0,i.U)();return(0,o.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center py-12 px-4 bg-gradient-to-br from-gray-50 to-gray-200 dark:from-[#18181b] dark:to-[#23272f]",children:(0,o.jsxs)("div",{className:"w-full max-w-xl bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl p-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-extrabold text-center mb-6",children:"vCard QR Generator"}),(0,o.jsx)(c,{onSubmit:e=>{let{name:r,email:o,phone:n,styling:l}=e;t("vcard",{name:r,email:o,phone:n,...l})},loading:r,qrResult:e})]})})}},2380:(e,r,t)=>{"use strict";t.d(r,{B:()=>l});var o=t(5155);function n(e){let{label:r,...t}=e;return(0,o.jsxs)("label",{className:"block",children:[(0,o.jsx)("span",{className:"block mb-1 font-medium text-zinc-700 dark:text-zinc-200",children:r}),(0,o.jsx)("input",{className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-blue-500",...t})]})}function l(e){let{styling:r,setStyling:t}=e;return(0,o.jsxs)("details",{className:"mb-4",children:[(0,o.jsx)("summary",{className:"cursor-pointer font-medium text-zinc-700 dark:text-zinc-200",children:"Styling Options"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,o.jsx)(n,{label:"Dots Color",type:"color",value:r.dotsOptions.color,onChange:e=>t({...r,dotsOptions:{...r.dotsOptions,color:e.target.value}})}),(0,o.jsx)(n,{label:"Background Color",type:"color",value:r.backgroundOptions.color,onChange:e=>t({...r,backgroundOptions:{...r.backgroundOptions,color:e.target.value}})}),(0,o.jsx)(n,{label:"Corner Square Color",type:"color",value:r.cornersSquareOptions.color,onChange:e=>t({...r,cornersSquareOptions:{...r.cornersSquareOptions,color:e.target.value}})}),(0,o.jsx)(n,{label:"Corner Dot Color",type:"color",value:r.cornersDotOptions.color,onChange:e=>t({...r,cornersDotOptions:{...r.cornersDotOptions,color:e.target.value}})})]})]})}t(2115)},8217:(e,r,t)=>{"use strict";t.d(r,{U:()=>a});var o=t(2115),n=t(9509);let l=n.env.NEXT_PUBLIC_API_ENDPOINT||n.env.API_ENDPOINT||"";function a(){let[e,r]=o.useState(null),[t,n]=o.useState(!1);return{qrResult:e,loading:t,handleSubmit:async(e,t)=>{n(!0),r(null);try{var o;let{dotsOptions:n,backgroundOptions:a,cornersSquareOptions:s,cornersDotOptions:c,...i}=t,d=new URLSearchParams;for(let e in i){let r=i[e];r&&d.append(e,r.toString())}n&&d.append("dotsOptions.color",n.color),a&&d.append("backgroundOptions.color",a.color),s&&d.append("cornersSquareOptions.color",s.color),c&&d.append("cornersDotOptions.color",c.color);let u=(o="/api/v1/".concat(e,"?").concat(d.toString()),"".concat(l.replace(/\/$/,"")).concat(o.startsWith("/")?o:"/"+o)),p=await fetch(u,{method:"GET",headers:{Accept:"image/png"}});if(!p.ok)throw Error("Failed to generate QR");let b=await p.blob();r(URL.createObjectURL(b))}catch(e){e instanceof Error?console.error(e.message):console.error("An unexpected error occurred:",e),r("error")}finally{n(!1)}}}}},8451:(e,r,t)=>{"use strict";t.d(r,{I:()=>l});var o=t(5155),n=t(6766);function l(e){let{loading:r,qrResult:t,onDownload:l}=e;return(0,o.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[(0,o.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-lg transition-colors disabled:opacity-60",disabled:r,children:r?"Generating...":"Generate QR"}),t&&"error"!==t&&(0,o.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,o.jsx)(n.default,{src:t,alt:"Generated QR Code",width:256,height:256,className:"rounded-lg bg-white p-6"}),(0,o.jsx)("button",{type:"button",onClick:l,className:"text-blue-600 underline",children:"Download QR Code"})]}),"error"===t&&(0,o.jsx)("div",{className:"text-red-600 text-center",children:"Failed to generate QR. Try again."})]})}}},e=>{e.O(0,[766,441,964,358],()=>e(e.s=836)),_N_E=e.O()}]);